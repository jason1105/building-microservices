## 第七章 测试

### 测试类型
原则：微服务使用自动化测试。

测试象限：


                    *业务
              验收测试、探索性测试
    *支持                            *评价
              单元测试、非功能测试
                    *技术
    
    更多参看《敏捷软件测试》  Lisa Crispin，Janet Gregory

### 测试范围

测试金字塔：
    
     范围更大，反馈周期长，问题定位麻烦
            ↑  
         *******
        *********
       *|界面测试|*
      **|服务测试|**  
     ***|单元测试|*** 
            ↓                             
    范围小，快速，隔离的更好，反对周期短，定位问题容易，但无法保证整体功能可用    
             
    更多参看Mike Cohn 的《Scrum敏捷软件开发》中介绍的金字塔

1. 单元测试：
    * 测试对象是函数或者方法
    * 测试之间彼此独立。
    * 不用启动服务，运行速度很快。
    * 快速反馈，常用于重构
    
2. 服务测试：测试对象是
    * 测试对象是微服务：
    * 服务的外界依赖需要打桩
    * 覆盖范围广
    * 测试时间长
    * 出现问题不好定位
        
3. 界面测试（端到端测试）
    * 测试对象：前端和后端
    * 需要打开浏览器

4. 权衡
5. 比例
    * 底层通常比上层多一个数量级。
    * 测试甜筒（倒金字塔）是一种反模式，丢弃单元测试，只保留大范围的测试。测试缓慢，反馈周期长，无法与持续构建有效集成，而较长时间的构建意味着很长时间才能发现问题。
    